{"ast":null,"code":"import _classCallCheck from\"/Users/i5/Documents/Documents/Docs/CODE/3rdSemester/text-worlds/worlds/text-worlds/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/i5/Documents/Documents/Docs/CODE/3rdSemester/text-worlds/worlds/text-worlds/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/i5/Documents/Documents/Docs/CODE/3rdSemester/text-worlds/worlds/text-worlds/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/i5/Documents/Documents/Docs/CODE/3rdSemester/text-worlds/worlds/text-worlds/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/i5/Documents/Documents/Docs/CODE/3rdSemester/text-worlds/worlds/text-worlds/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _ from'lodash';import faker from'faker';import React,{Component}from'react';import{Search,Grid,Header,Segment,Label}from'semantic-ui-react';var categoryRenderer=function categoryRenderer(_ref){var name=_ref.name;return React.createElement(Label,{as:\"span\",content:name});};var resultRenderer=function resultRenderer(_ref2){var title=_ref2.title;return React.createElement(Label,{content:title});};var initialState={isLoading:false,results:[],value:''};var getResults=function getResults(){return _.times(5,function(){return{title:faker.company.companyName(),description:faker.company.catchPhrase(),image:faker.internet.avatar(),price:faker.finance.amount(0,100,2,'$')};});};var source=_.range(0,3).reduce(function(memo){var name=faker.hacker.noun();// eslint-disable-next-line no-param-reassign\nmemo[name]={name:name,results:getResults()};return memo;},{});var SearchExampleCategory=/*#__PURE__*/function(_Component){_inherits(SearchExampleCategory,_Component);function SearchExampleCategory(){var _getPrototypeOf2;var _this;_classCallCheck(this,SearchExampleCategory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SearchExampleCategory)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state=initialState;_this.handleResultSelect=function(e,_ref3){var result=_ref3.result;return _this.setState({value:result.title});};_this.handleSearchChange=function(e,_ref4){var value=_ref4.value;_this.setState({isLoading:true,value:value});setTimeout(function(){if(_this.state.value.length<1)return _this.setState(initialState);var re=new RegExp(_.escapeRegExp(_this.state.value),'i');var isMatch=function isMatch(result){return re.test(result.title);};var filteredResults=_.reduce(source,function(memo,data,name){var results=_.filter(data.results,isMatch);if(results.length)memo[name]={name:name,results:results};// eslint-disable-line no-param-reassign\nreturn memo;},{});_this.setState({isLoading:false,results:filteredResults});},300);};return _this;}_createClass(SearchExampleCategory,[{key:\"render\",value:function render(){var _this$state=this.state,isLoading=_this$state.isLoading,value=_this$state.value,results=_this$state.results;return React.createElement(Grid,null,React.createElement(Grid.Column,{width:8},React.createElement(Search,Object.assign({category:true,categoryRenderer:categoryRenderer,loading:isLoading,onResultSelect:this.handleResultSelect,onSearchChange:_.debounce(this.handleSearchChange,500,{leading:true}),resultRenderer:resultRenderer,results:results,value:value},this.props))));}}]);return SearchExampleCategory;}(Component);export{SearchExampleCategory as default};","map":{"version":3,"sources":["/Users/i5/Documents/Documents/Docs/CODE/3rdSemester/text-worlds/worlds/text-worlds/client/src/Components/Homepage/SearchBar.js"],"names":["_","faker","React","Component","Search","Grid","Header","Segment","Label","categoryRenderer","name","resultRenderer","title","initialState","isLoading","results","value","getResults","times","company","companyName","description","catchPhrase","image","internet","avatar","price","finance","amount","source","range","reduce","memo","hacker","noun","SearchExampleCategory","state","handleResultSelect","e","result","setState","handleSearchChange","setTimeout","length","re","RegExp","escapeRegExp","isMatch","test","filteredResults","data","filter","debounce","leading","props"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport faker from 'faker'\nimport React, { Component } from 'react'\nimport { Search, Grid, Header, Segment, Label } from 'semantic-ui-react'\n\nconst categoryRenderer = ({ name }) => <Label as='span' content={name} />\n\ncategoryRenderer.propTypes = {\n  name: PropTypes.string,\n}\n\nconst resultRenderer = ({ title }) => <Label content={title} />\n\nresultRenderer.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n}\n\nconst initialState = { isLoading: false, results: [], value: '' }\n\nconst getResults = () =>\n  _.times(5, () => ({\n    title: faker.company.companyName(),\n    description: faker.company.catchPhrase(),\n    image: faker.internet.avatar(),\n    price: faker.finance.amount(0, 100, 2, '$'),\n  }))\n\nconst source = _.range(0, 3).reduce((memo) => {\n  const name = faker.hacker.noun()\n\n  // eslint-disable-next-line no-param-reassign\n  memo[name] = {\n    name,\n    results: getResults(),\n  }\n\n  return memo\n}, {})\n\nexport default class SearchExampleCategory extends Component {\n  state = initialState\n\n  handleResultSelect = (e, { result }) => this.setState({ value: result.title })\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value })\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.setState(initialState)\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = (result) => re.test(result.title)\n\n      const filteredResults = _.reduce(\n        source,\n        (memo, data, name) => {\n          const results = _.filter(data.results, isMatch)\n          if (results.length) memo[name] = { name, results } // eslint-disable-line no-param-reassign\n\n          return memo\n        },\n        {},\n      )\n\n      this.setState({\n        isLoading: false,\n        results: filteredResults,\n      })\n    }, 300)\n  }\n\n  render() {\n    const { isLoading, value, results } = this.state\n\n    return (\n      <Grid>\n        <Grid.Column width={8}>\n          <Search\n            category\n            categoryRenderer={categoryRenderer}\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, {\n              leading: true,\n            })}\n            resultRenderer={resultRenderer}\n            results={results}\n            value={value}\n            {...this.props}\n          />\n        </Grid.Column>\n        {/* <Grid.Column width={8}>\n          <Segment>\n            <Header>State</Header>\n            <pre style={{ overflowX: 'auto' }}>\n              {JSON.stringify(this.state, null, 2)}\n            </pre>\n            <Header>Options</Header>\n            <pre style={{ overflowX: 'auto' }}>\n              {JSON.stringify(source, null, 2)}\n            </pre>\n          </Segment>\n        </Grid.Column> */}\n      </Grid>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}